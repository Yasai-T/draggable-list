(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1701:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(463).configure)([__webpack_require__(1702)],module,!1)}).call(this,__webpack_require__(137)(module))},1702:function(module,exports,__webpack_require__){var map={"./draggableItem.story.tsx":2984};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1702},2984:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DraggableList",(function(){return draggableItem_story_DraggableList}));__webpack_require__(4);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),useDrop=(__webpack_require__(3),__webpack_require__(9),__webpack_require__(22),__webpack_require__(30),__webpack_require__(13),__webpack_require__(14),__webpack_require__(21),__webpack_require__(12),__webpack_require__(23),__webpack_require__(5),__webpack_require__(11),__webpack_require__(19),__webpack_require__(15),__webpack_require__(20),__webpack_require__(2991)),useDrag=__webpack_require__(2992);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ItemTypes_CARD="card",style={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},card_Card=function Card(_ref){var id=_ref.id,text=_ref.text,index=_ref.index,moveCard=_ref.moveCard,_useDraggableItem=function useDraggableItem(index,id,targetType,onMove){var ref=Object(react.useRef)(null),drop=_slicedToArray(Object(useDrop.a)({accept:targetType,hover:function hover(item,monitor){var _ref$current;if(ref.current){var dragIndex=item.index,hoverIndex=index;if(dragIndex!==hoverIndex){var hoverBoundingRect=null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect(),hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2,hoverClientY=monitor.getClientOffset().y-hoverBoundingRect.top;dragIndex<hoverIndex&&hoverClientY<hoverMiddleY||dragIndex>hoverIndex&&hoverClientY>hoverMiddleY||(onMove(dragIndex,hoverIndex),item.index=hoverIndex)}}}}),2)[1],_useDrag2=_slicedToArray(Object(useDrag.a)({item:{type:targetType,id:id,index:index},collect:function collect(monitor){return{isDragging:monitor.isDragging()}}}),2),isDragging=_useDrag2[0].isDragging;return(0,_useDrag2[1])(drop(ref)),{ref:ref,isDragging:isDragging}}(index,id,ItemTypes_CARD,moveCard),ref=_useDraggableItem.ref,opacity=_useDraggableItem.isDragging?0:1;return react_default.a.createElement("div",{ref:ref,style:Object.assign({},style,{opacity:opacity})},text)};card_Card.displayName="Card";var immutability_helper=__webpack_require__(596),immutability_helper_default=__webpack_require__.n(immutability_helper),DndProvider=__webpack_require__(2990),esm=__webpack_require__(598);function draggableListContainer_slicedToArray(arr,i){return function draggableListContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function draggableListContainer_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function draggableListContainer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return draggableListContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return draggableListContainer_arrayLikeToArray(o,minLen)}(arr,i)||function draggableListContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function draggableListContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var draggableListContainer_style={width:400},draggableListContainer_DraggableListContainer=function DraggableListContainer(_ref){var items=_ref.items,_useState2=draggableListContainer_slicedToArray(Object(react.useState)(items),2),cards=_useState2[0],setCards=_useState2[1],moveCard=Object(react.useCallback)((function(dragIndex,hoverIndex){var dragCard=cards[dragIndex];setCards(immutability_helper_default()(cards,{$splice:[[dragIndex,1],[hoverIndex,0,dragCard]]}))}),[cards]);return react_default.a.createElement(DndProvider.a,{backend:esm.a},react_default.a.createElement("div",{style:draggableListContainer_style},cards.map((function(_ref2,i){var id=_ref2.id,text=_ref2.text;return react_default.a.createElement(card_Card,{key:id,index:i,id:id,text:text,moveCard:moveCard})}))))},faker=__webpack_require__(175),itemFactory=__webpack_require__(597).Factory.define("item").attrs({id:function id(){return faker.random.uuid()},text:function text(){return faker.random.words()}}),draggableItem_story_DraggableList=(__webpack_exports__.default={title:"Draggable"},function DraggableList(){var items=itemFactory.buildList(10);return react_default.a.createElement(draggableListContainer_DraggableListContainer,{items:items})});draggableItem_story_DraggableList.displayName="DraggableList",draggableItem_story_DraggableList.parameters=Object.assign({storySource:{source:"() => {\n  const items = itemFactory.buildList(10);\n  return <Component items={items} />;\n}"}},draggableItem_story_DraggableList.parameters);try{draggableItem_story_DraggableList.displayName="DraggableList",draggableItem_story_DraggableList.__docgenInfo={description:"",displayName:"DraggableList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/draggableItem.story.tsx#DraggableList"]={docgenInfo:draggableItem_story_DraggableList.__docgenInfo,name:"DraggableList",path:"stories/draggableItem.story.tsx#DraggableList"})}catch(__react_docgen_typescript_loader_error){}},601:function(module,exports,__webpack_require__){__webpack_require__(602),__webpack_require__(947),__webpack_require__(948),__webpack_require__(1102),__webpack_require__(1654),__webpack_require__(1685),__webpack_require__(1697),__webpack_require__(1699),module.exports=__webpack_require__(1701)},733:function(module,exports){},948:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(463)}},[[601,1,2]]]);
//# sourceMappingURL=main.75a376460ef52ea65285.bundle.js.map